<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Finance</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="/img/icone-192.png">
    <link rel="apple-touch-icon" href="/img/icone-192.png">
    <meta name="theme-color" content="#131621">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <button id="menuBtn" class="menu-btn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <h1 class="app-name">MY FINANCE</h1>  
      <button id="btnLogout" class="btnLogout">Sair</button>
    </header>

    <nav id="menu" class="menu-overlay">
      <div class="menu-panel">
        <div class="menu-content">
          <a href="#scoreValor" style="--i: 1">üìä Resumo</a>
          <a href="entradas.html" style="--i: 2">‚ûï Entradas</a>
          <a href="#listaCartoes" style="--i: 3">üí≥ Cart√µes</a>
          <a href="#categoriaLimite" style="--i: 4">üßæ Criar alerta</a>
        </div>
      </div>
    </nav>
<!-- DASHBOARD ANALISE -->
<section class="card dashboard-resumo">
  <h2>Resumo Financeiro</h2>

  <div class="valores">
    <div>
      <span>Entradas</span>
      <strong id="totalEntradasDash">R$ 0,00</strong>
    </div>
    <div>
      <span>Gastos</span>
      <strong id="totalGastosDash">R$ 0,00</strong>
    </div>
    <div class="saldo">
      <span>Saldo</span>
      <strong id="saldoDash">R$ 0,00</strong>
    </div>
  </div>

  <!-- gr√°fico -->
  <div class="grafico-wrapper">
    <svg width="160" height="160">
      <circle
        cx="80"
        cy="80"
        r="70"
        stroke="#e5e7eb"
        stroke-width="14"
        fill="none"
      />
      <circle
        id="graficoSaldo"
        cx="80"
        cy="80"
        r="70"
        stroke="#22c55e"
        stroke-width="14"
        fill="none"
        stroke-linecap="round"
        stroke-dasharray="439"
        stroke-dashoffset="439"
        transform="rotate(-90 80 80)"
      />
    </svg>
    <div class="grafico-label" id="percentualSaldo">0%</div>
  </div>
</section>

    <main class="dashboard">
      <!-- RESUMO -->
<section class="card">
  <h2>Entradas</h2>

  <input id="entradaDescricao" placeholder="Descri√ß√£o" />
  <input id="entradaValor" type="number" placeholder="Valor" />
<button class="add" id="btnAdicionarEntrada">Adicionar entrada</button>
  <p id="msgEntrada" class="msg"></p>

<button class="ver-ganhos add">Meus ganhos</button>

  <h2>Gastos Fixos</h2>

  <input id="fixoDescricao" placeholder="Descri√ß√£o" />
  <input id="fixoValor" type="number" placeholder="Valor" />
<button class="add" id="btnAdicionarGFixo">Adicionar</button>

  <p id="msgEntrada" class="msg"></p>

<button class="add" id="btnGastosFixos"> Gastos fixos</button>


 <!-- score -->
<section class="card score-card">
  <h2>Sua Sa√∫de Financeira</h2>

  <div class="score-gauge">
    <svg viewBox="0 0 200 100" class="gauge">
      <!-- trilha -->
      <path
        d="M10 100 A90 90 0 0 1 190 100"
        class="gauge-bg"
      />
      <!-- progresso -->
      <path
        d="M10 100 A90 90 0 0 1 190 100"
        class="gauge-progress"
        id="gaugeProgress"
      />
    </svg>

    <div class="score-center">
      <div class="score-number" id="scoreValor">--</div>
      <div class="score-status" id="scoreStatus">Analisando...</div>
    </div>
  </div>

  <ul class="score-insights" id="scoreInsights"></ul>
</section>


      <!-- CART√ïES -->
      <section class="card faturas" id="listaCartoes">
        <h2>Cart√µes de Cr√©dito</h2>

        <div class="cartoes" >
          <div class="cartao bradesco" data-banco="bradesco">
             <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Bradesco</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="bradesco">0,00</span></strong
            >
            <button class="analise-fat" data-banco="bradesco">
              Visualizar
            </button>
          </div>

          <div class="cartao itau" data-banco="itau">
             <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Ita√∫</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="itau">0,00</span></strong
            >
            <button class="analise-fat" data-banco="itau">Visualizar</button>
          </div>

          <div class="cartao xp" data-banco="xp">
             <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>XP</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="xp">0,00</span></strong
            >
            <button class="analise-fat" data-banco="xp">Visualizar</button>
          </div>
          <div class="cartao nubank" data-banco="nubank"> <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Nubank</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="nubank">0,00</span></strong
            >
            <button class="analise-fat" data-banco="nubank">Visualizar</button>
          </div>
          <div class="cartao santander" data-banco="santander"> <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Santander</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="santander">0,00</span></strong
            >
            <button class="analise-fat" data-banco="santander">
              Visualizar
            </button>
          </div>
          <div class="cartao inter" data-banco="inter"> <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Inter</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="inter">0,00</span></strong
            >
            <button class="analise-fat" data-banco="inter">Visualizar</button>
          </div>
          <div class="cartao MP" data-banco="mp"> <button class="remover-cartao" aria-label="Remover cart√£o">‚úï</button>
            <p>Mercado pago</p>
            <strong
              >Fatura: R$
              <span class="fatura" data-banco="mp">0,00</span></strong
            >
            <button class="analise-fat" data-banco="mp">Visualizar</button>
          </div>
          <div class="cartao dp">
            <p>Dinheiro ou pix</p>
            <strong
              >Gasto: R$
              <span class="fatura" data-banco="dp">0,00</span></strong
            >
            <button class="analise-fat" data-banco="dp">Visualizar</button>
          </div>

          <div class="cartao novo-cartao">
            <input id="cartaoNome" placeholder="Digite novo cart√£o" />
            
          <div class="color-picker">
            <input id="cartaoCor" type="color" value="#8A05BE">
            <span class="preview"></span>
          </div>
          <button class="add" id="btnAdicionarCartao">Criar cart√£o</button>
              Adicionar cart√£o
            </button>
          </div>
        </div>
    </section>


      <!-- GASTOS -->
      <section class="card">
        <h2>Adicionar Gasto</h2>
        <input id="nome" placeholder="Nome do gasto" />
        <input id="valor" type="number" placeholder="Valor" />

        <select id="categoria">
          <option>Alimenta√ß√£o</option>
          <option>Lazer</option>
          <option>Transporte</option>
          <option>Farm√°cia</option>
          <option>Imprevisto</option>
          <option>mercado</option>
          <option>Casa</option>
          <option>Pessoal 1</option>
          <option>Pessoal 2</option>
        </select>
        
        <select id="banco">
          <option value="nubank">Nubank</option>
          <option value="itau">Ita√∫</option>
          <option value="bradesco">Bradesco</option>
          <option value="xp">XP</option>
          <option value="santander">Santander</option>
          <option value="inter">Inter</option>
          <option value="mp">Mercado Pago</option>
          <option value="dp">Dinheiro / Pix</option>
        </select>



        <select id="mesFatura">
          <option value="0">Janeiro</option>
          <option value="1">Fevereiro</option>
          <option value="2">Mar√ßo</option>
          <option value="3">Abril</option>
          <option value="4">Maio</option>
          <option value="5">Junho</option>
          <option value="6">Julho</option>
          <option value="7">Agosto</option>
          <option value="8">Setembro</option>
          <option value="9">Outubro</option>
          <option value="10">Novembro</option>
          <option value="11">Dezembro</option>
        </select>

        <input id="parcelas"type="number"placeholder="Qtd parcelas (se houver)" />
        <button class="add" id="btnAdicionarGasto">Adicionar</button>
      </section>

<section class="card">
  <h2>Controle de Limites</h2>

  <select id="categoriaLimite">
    <option>Alimenta√ß√£o</option>
    <option>Lazer</option>
    <option>Transporte</option>
    <option>Farm√°cia</option>
    <option>Imprevisto</option>
    <option>Mercado</option>
    <option>Casa</option>
    <option>Pessoal 1</option>
    <option>Pessoal 2</option>
  </select>

  <input id="limite" type="number" placeholder="Limite da categoria" />
  <p id="msgEntrada" class="msg"></p>

<button class="add" id="btnSalvarLimite">Salvar limite</button>
</section>

<section class="card">
  <h2>Alertas de Categoria</h2>
  <div id="listaLimites"></div>
</section>


    <script type="module" src="app.js"></script>
    <script src="dashboard.js"></script>
    <script src="score.js"></script>
    <div id="toast" class="toast"></div>

    <script type="module">
  import { auth } from "./firebase.js";
  import { onAuthStateChanged } from
    "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      // ‚ùå N√ÉO LOGADO ‚Üí VOLTA PARA LOGIN
      window.location.href = "./login.html";
    }
  });
</script>

    
  </body>
</html>
